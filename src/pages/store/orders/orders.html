<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mis Pedidos - FoodStore</title>
    <link rel="stylesheet" href="../../../sidebar_navbar.css">
    <link rel="stylesheet" href="../../../utils/scrollbar.css">
    <link rel="stylesheet" href="./styles_orders.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">
</head>
<body id="body">

    <!-- ---------------------- Navbar ---------------------------- -->
    <nav class="navbar">
        <button class="navbar-burger" id="navbar-burger" aria-label="Abrir men√∫">
            <span></span><span></span><span></span>
        </button>
        <!-- T√≠tulo e √≠cono solo visible en mobile -->
        <div class="navbar-title-mobile">
            <span class="navbar-logo">üçï <span class="navbar-brand">FoodStore</span></span>
        </div>
        <ul class="navbar-links" id="navbar-links">
            <li><a href="../home/home.html">Inicio</a></li>
            <li><a href="./orders.html">Mis Pedidos</a></li>
            <li class="navbar-cart">
                <span class="cart-icon">üõí</span>
                <span class="cart-badge">0</span>
                <span>Carrito</span>
            </li>
            <li class="navbar-user">Juan P√©rez</li>
            <li class="navbar-logout-mobile"><button id="logoutButton" class="navbar-logout">Cerrar Sesi√≥n</button></li>
            <li class="navbar-logout-desktop"><button id="logoutButtonDesktop" class="navbar-logout">Cerrar Sesi√≥n</button></li>
        </ul>
    </nav>
    <!-- ---------------------- Fin Navbar ------------------------ -->

    <div class="contenedor-contenido-pagina">
        <div class="orders-header">
            <h1 class="orders-title">Mis Pedidos</h1>
            <select class="orders-filter">
                <option value="todos">Todos</option>
                <option value="PENDIENTE">Pendiente</option>
                <option value="CONFIRMADO">Confirmado</option>
                <option value="CANCELADO">Cancelado</option>
                <option value="TERMINADO">Terminado</option>
            </select>
        </div>
        
        <div class="orders-container">
            <!-- Los pedidos se renderizar√°n din√°micamente aqu√≠ -->
        </div>
    </div>

    <!-- Modal de detalle del pedido -->
    <div id="modal-detalle-pedido" class="modal-detalle">
        <div class="modal-detalle-content custom-scrollbar-modal">
            <button class="modal-detalle-close">&times;</button>
            
            <div class="modal-detalle-header">
                <h2 class="modal-detalle-title">Pedido <span id="modal-pedido-id"></span></h2>
                <span id="modal-pedido-estado" class="order-status"></span>
            </div>

            <div class="modal-detalle-fecha">
                <i class="bi bi-calendar"></i>
                <span id="modal-pedido-fecha"></span>
            </div>

            <div class="modal-detalle-section">
                <h3 class="modal-section-title">
                    <i class="bi bi-geo-alt"></i> Informaci√≥n de Entrega
                </h3>
                <div class="modal-info-grid">
                    <div class="modal-info-item">
                        <strong>Direcci√≥n:</strong>
                        <span id="modal-direccion"></span>
                    </div>
                    <div class="modal-info-item">
                        <strong>Tel√©fono:</strong>
                        <span id="modal-telefono"></span>
                    </div>
                    <div class="modal-info-item">
                        <strong>M√©todo de pago:</strong>
                        <span id="modal-metodo-pago"></span>
                    </div>
                </div>
            </div>

            <div class="modal-detalle-section">
                <h3 class="modal-section-title">
                    <i class="bi bi-bag"></i> Productos
                </h3>
                <div id="modal-productos-lista" class="modal-productos-lista">
                    <!-- Los productos se renderizar√°n aqu√≠ -->
                </div>
            </div>

            <div class="modal-detalle-totales">
                <div class="modal-total-row">
                    <span>Subtotal:</span>
                    <span id="modal-subtotal"></span>
                </div>
                <div class="modal-total-row modal-total-final">
                    <span>Total:</span>
                    <span id="modal-total"></span>
                </div>
            </div>

            <div class="modal-detalle-footer">
                <i id="modal-footer-icon" class="bi bi-hourglass-split"></i>
                <p id="modal-footer-title">Tu pedido est√° siendo procesado</p>
                <p id="modal-footer-subtitle" class="modal-footer-subtitle">Te notificaremos cuando est√© listo para entrega.</p>
            </div>
        </div>
    </div>

    <script type="module" src="./orders.ts"></script>
</body>
</html>